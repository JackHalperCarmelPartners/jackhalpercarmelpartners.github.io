<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>CP Jobs Report</title>

  <style>
    /* Use a clean font */
    body {
      font-family: 'Montserrat', sans-serif;
      background-color: #f4f4f4; /* Light background color */
      color: #333;
      margin: 0;
      padding: 0;
      font-weight: 100;
    }

    /* Flexbox container for logo and title */
    .header {
      display: flex;
      justify-content: center;
      align-items: center;
      padding: 20px;
    }

    /* Style the logo */
    .logo {
      max-width: 150px; /* Adjust the size of the logo */
      margin-right: 20px;
    }

    /* Style the title */
    h1 {
      font-size: 2.5em;
      color: #0074A8; /* Use Carmel blue */
      margin: 0;
    }

    /* Add padding to the sides of the visualizations */
    .chart-container {
      padding: 20px;
      margin: 0 auto;
      max-width: 900px;
      background-color: white; /* White background for charts */
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1); /* Add shadow for depth */
      border-radius: 10px; /* Rounded corners */
    }

    /* Ensure iframes take full width */
    iframe {
      width: 100%;
      border: none;
    }

    /* Responsiveness for smaller devices */
    @media (max-width: 768px) {
      h1 {
        font-size: 2em;
      }
      .logo {
        max-width: 100px;
      }
    }
  </style>

  <!-- Load Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;100&display=swap" rel="stylesheet">
</head>
<body>

  <!-- Header with logo and title -->
  <div class="header">
    <img src="https://www.carmelpartners.com/wp-content/uploads/2022/11/logo-carmelpartners-full-color-horizontal.svg" alt="Carmel Partners Logo" class="logo">
    <h1>Jobs Report - August 2024</h1>
  </div>

  <!-- Dropdown Menu for Market Selection -->
  <div class="chart-container" style="text-align: center;">
    <label for="market-select">Select Market:</label>
    <select id="market-select" onchange="switchMarket()">
      <option value="pvRd4">Atlanta</option>
      <option value="3tBBH">Austin</option>
      <option value="HyKs6">Boston</option>
      <option value="eAXGt">Boulder</option>
      <option value="yyQfM">Charlotte</option>
      <option value="On0QP">Dallas-Fort Worth</option>
      <option value="EAbgZ">Denver</option>
      <option value="JCC6O">Houston</option>
      <option value="L7gJ1">Inland Empire</option>
      <option value="jBMxs">Las Vegas</option>
      <option value="y3Eul">Long Island</option>
      <option value="aKnhu">Los Angeles</option>
      <option value="WC3mz">Miami-Metro</option>
      <option value="JkzV7">N New Jersey</option>
      <option value="raRlz">Nashville</option>
      <option value="nN5tf">New York</option>
      <option value="rjl27">Orange County</option>
      <option value="awurP">Orlando</option>
      <option value="cL4BS">Philadelphia</option>
      <option value="wFJPL">Phoenix</option>
      <option value="ZZAbn">Raleigh-Durham</option>
      <option value="NqBsg">Sacramento</option>
      <option value="jyD1q">San Diego</option>
      <option value="ZNYeT">San Francisco-Oakland</option>
      <option value="hgFDq">San Jose</option>
      <option value="O0BEf">Seattle</option>
      <option value="2A6pg">Stamford</option>
      <option value="kEiMe">Tampa</option>
      <option value="C09TB">Trenton-Princeton</option>
      <option value="UvgPP">Ventura</option>
      <option value="MU0dW">Washington, D.C.</option>
    </select>
  </div>

  <!-- Container for the selected chart -->
  <div class="chart-container">
    <iframe title="Market Visualization" aria-label="Interactive chart" id="market-iframe"
            src="https://datawrapper.dwcdn.net/pvRd4/" scrolling="no"
            height="576" data-external="1"></iframe>
  </div>

  <!-- JavaScript to switch the iframe based on market selection -->
  <script>
    function switchMarket() {
      var marketSelect = document.getElementById("market-select");
      var selectedMarket = marketSelect.value;
      var iframe = document.getElementById("market-iframe");

      // Update the iframe source to the selected market's chart
      iframe.src = "https://datawrapper.dwcdn.net/" + selectedMarket + "/";
    }

    // Adjust iframe height on message event from Datawrapper
    window.addEventListener("message", function(a) {
      if (void 0 !== a.data["datawrapper-height"]) {
        var iframe = document.getElementById("market-iframe");
        if (a.data["datawrapper-height"]) {
          iframe.style.height = a.data["datawrapper-height"][selectedMarket] + "px";
        }
      }
    });
  </script>

</body>
</html>
